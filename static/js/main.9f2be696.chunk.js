(this.webpackJsonplm=this.webpackJsonplm||[]).push([[0],{25:function(t,e,a){},38:function(t,e,a){},39:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){},51:function(t,e,a){"use strict";a.r(e);var n=a(3),i=a(4),r=a(6),c=a(5),s=a(1),o=a.n(s),u=a(27),l=a.n(u),h=a(31),d=a(2),f=(a(38),a(25),a(39),a(13)),j=a(12),p=a(11),b=a(33),g=a(24),v=a(28),O=a(21),m=a.n(O),y=a(29),x=a(18),k="mini",C="pics",I=a(30),w={imageCache:{}};function S(t){return I.Md5.hashStr(t)}function D(t){for(var e={},a=[],n=0,i=Array.from(t);n<i.length;n++){var r=i[n],c=r.webkitRelativePath,s=r.name,o=c.split("/");if(o[1]===C){var u=o.slice(1,3).join("/")+"/"+o[o.length-1],l=S(u);e[l]||(a.push(l),e[l]={}),o[3]===k?e[l].miniPath=o.slice(1).join("/"):(e[l].path=u,e[l].id=l,e[l].filename=s)}}return{hash:F(a),data:e}}function F(t){return S(t.sort((function(t,e){return t>e?1:-1})).join(""))}function N(t){var e,a={},n=function(t){return/default\..*\.png/g.test(t)},i=function(t){return t.replace("default.","").replace(".png","")};for(var r in t){var c=t[r],s=c.path.split("/")[1];if(a[s]||(a[s]={info:{title:s,icon:"",defaultPic:""},items:{}}),e=c.filename,/icon\.png/g.test(e))a[s].info.icon=c.path;else{n(c.filename)&&(a[s].info.defaultPic=r);var o=i(c.filename);a[s].items[o]={title:o,pic:{picId:r,defaultPosition:[0,0]}}}}return a}function B(t){var e=new XMLHttpRequest;return e.open("get",t),e.send(null),console.log("call loadFile"),new Promise((function(a,n){e.onload=function(){4===e.readyState&&(200===e.status?a(e.responseText):n("Load file "+t+" failed."))}}))}function P(t){var e=new Image;return e.src=t+"?t="+Math.random(),e.crossOrigin="",new Promise((function(t,a){e.onload=function(a){t(e)}}))}function A(){return(A=Object(y.a)(m.a.mark((function t(e){var a,n,i,r,c,s,o,u,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object.keys(e).map((function(t){return{imageObj:null,index:e[t].pic.index,path:e[t].pic.path,id:e[t].pic.picId}})),n=Object(x.a)(a),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=15;break}if(r=i.value,!w.imageCache[r.id]){t.next=10;break}r.imageObj=w.imageCache[r.id],t.next=13;break;case 10:return t.next=12,P(r.path);case 12:r.imageObj=t.sent;case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:(c=document.createElement("canvas")).width=a[0].imageObj.width,c.height=a[0].imageObj.height,(s=c.getContext("2d")).fillStyle="#ffffff",null===s||void 0===s||s.fillRect(0,0,c.width,c.height),a.sort((function(t,e){return t.index-e.index})),o=Object(x.a)(a);try{for(o.s();!(u=o.n()).done;)(l=u.value).imageObj&&(null===s||void 0===s||s.drawImage(l.imageObj,0,0))}catch(h){o.e(h)}finally{o.f()}return t.abrupt("return",c);case 33:case"end":return t.stop()}}),t,null,[[2,17,20,23]])})))).apply(this,arguments)}function R(){var t=navigator.userAgent.toLowerCase();return!!(/micromessenger/g.test(t)||/weibo/g.test(t)||/qq/g.test(t))}var M=a(0),T=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){return Object(n.a)(this,a),e.call(this,t)}return Object(i.a)(a,[{key:"createBlob",value:function(){return new Blob([this.props.fileContent],{type:"text/plain;charset=utf-8"})}},{key:"save",value:function(){Object(v.saveAs)(this.createBlob(),this.props.filename)}},{key:"render",value:function(){var t=this;return Object(M.jsx)("a",{href:"#",onClick:function(){return t.save()},className:this.props.class,children:this.props.children})}}]),a}(o.a.Component),z=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={imageBase64String:""},i}return Object(i.a)(a,[{key:"transFileToBase64",value:function(t){var e=this;if(t){var a=new FileReader;a.readAsDataURL(t),a.onload=function(t){var a;(null===(a=t.target)||void 0===a?void 0:a.result)!==e.state.imageBase64String&&e.setState({imageBase64String:t.target.result})}}}},{key:"render",value:function(){return this.transFileToBase64(this.props.imageFile),console.log("showimage repeat exec test"),Object(M.jsx)("img",{src:this.state.imageBase64String,alt:""})}}]),a}(o.a.Component),J=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).selectDirInput=void 0,i.selectDirInput=o.a.createRef(),i.state={files:null},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.initSelectDirInput(this.selectDirInput.current)}},{key:"initSelectDirInput",value:function(t){t&&(t.setAttribute("webkitdirectory",""),t.setAttribute("directory",""),t.setAttribute("multiple",""))}},{key:"onGetFiles",value:function(t){this.setState({files:t.target.files}),this.props.handleOutput(t.target.files)}},{key:"render",value:function(){return Object(M.jsx)("div",{children:Object(M.jsx)("input",{type:"file",name:"file",ref:this.selectDirInput,onChange:this.onGetFiles.bind(this)})})}}]),a}(o.a.Component),L=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).canvasObj=void 0,i.canvasObj=o.a.createRef(),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.props.imageObjs.forEach((function(e){try{t.draw(e)}catch(a){console.log(a.message)}}))}},{key:"draw",value:function(t){var e,a=t.width,n=t.height,i=Object(g.a)(this.props.canvasSize,2),r=i[0],c=i[1],s=this.props.border;this.canvasObj.current.width=r,this.canvasObj.current.height=c;var o=this.canvasObj.current.getContext("2d");null===o||void 0===o||o.drawImage(t,0,0,r,c);var u,l=function(t){for(var e=t.data,a=t.width,n=t.height,i=function(t,e){return(t-1)*a*4+4*(e-1)},r=-1,c=-1,s=-1,o=-1,u=1;u<=n;u++){for(var l=1;l<a;l++)if(0!==e[i(u,l)+3]){c=u-1;break}if(-1!==c)break}for(var h=1;h<=a;h++){for(var d=1;d<=n;d++)if(0!==e[i(d,h)+3]){r=h-1;break}if(-1!==r)break}for(var f=n;f>=1;f--){for(var j=1;j<=a;j++)if(0!==e[i(f,j)+3]){o=f-c;break}if(-1!==o)break}for(var p=a;p>=1;p--){for(var b=1;b<=n;b++)if(0!==e[i(b,p)+3]){s=p-r;break}if(-1!==s)break}return[r,c,s,o]}(o.getImageData(0,0,r,c)),h=Object(g.a)(l,4),d=h[0],f=h[1],j=h[2],p=h[3];null===o||void 0===o||o.clearRect(0,0,r,c),u=j>p?[s,(c-(r-2*s)/j*p)/2,r-2*s,(r-2*s)/j*p]:[(r-(c-2*s)/p*j)/2,s,(c-2*s)/p*j,c-2*s],(e=o).drawImage.apply(e,[t,d/r*a,f/c*n,j/r*a,p/c*n].concat(Object(b.a)(u)))}},{key:"render",value:function(){return Object(M.jsx)("canvas",{ref:this.canvasObj})}}]),a}(o.a.Component),U=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){return Object(n.a)(this,a),e.call(this,t)}return Object(i.a)(a,[{key:"onCloseBtnClick",value:function(){this.setState({isOpen:!1})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var t={position:"absolute",width:"100%",top:0,left:0,zIndex:200,visibility:null===this.props.content?"hidden":"visible"};return Object(M.jsx)("div",{style:{position:"relative"},children:Object(M.jsx)("div",{className:"popup",style:t,children:this.props.content?Object(M.jsx)("img",{style:{width:"100%"},src:this.props.content,alt:""}):Object(M.jsx)("div",{})})})}}]),a}(o.a.Component),E=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){return Object(n.a)(this,a),e.call(this,t)}return Object(i.a)(a,[{key:"render",value:function(){var t=this,e=Object.keys(this.props.userData).map((function(e){var a=t.props.userData[e],n=a.pic;return Object(M.jsx)("div",{style:{position:"absolute",top:0,left:0,zIndex:a.pic.index},children:Object(M.jsx)("img",{width:"100%",height:"100%",src:n.miniPath||n.path,alt:a.itemTitle})},a.pic.picId)}));return Object(M.jsx)("div",{className:"preview",style:{position:"relative",width:this.props.width,paddingTop:"100%"},children:e})}}]),a}(o.a.Component),W=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).imageObj=void 0,i.imageObj=function(t,e){if(w.imageCache[t])return w.imageCache[t];var a=new Image;return a.crossOrigin="",a.src=e+"?t="+Math.random(),w.imageCache[t]=a,a}(t.picId,t.path),i.state={canvas:Object(M.jsx)("div",{})},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.imageObj.complete?this.updateCanvas():this.imageObj.onload=function(){t.updateCanvas()}}},{key:"updateCanvas",value:function(){this.setState({canvas:Object(M.jsx)(L,{imageObjs:[this.imageObj],canvasSize:[this.props.size,this.props.size],border:5})})}},{key:"render",value:function(){return Object(M.jsx)("div",{style:{width:this.props.size+"px",height:this.props.size+"px"},children:this.state.canvas})}}]),a}(o.a.Component),X=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={},i}return Object(i.a)(a,[{key:"onItemClicked",value:function(t,e){this.props.handleOutput(t,e)}},{key:"render",value:function(){var t=this,e=this.props.itemSize,a=w.root,n=w.config.category[this.props.selectedCategory],i=w.metadata.data,r=n.items.slice();n.info.allowBlank&&r.unshift({title:"",pic:{picId:"",defaultPosition:[0,0]}});var c=r.map((function(n){if(!n.pic.picId)return Object(M.jsx)("div",{onClick:function(){return t.onItemClicked(n.title,n.pic.picId)},className:(t.props.selectedItem===n.title?"selected-item":"")+" item",style:{width:e+"px",height:e+"px"}},"");var r=i[n.pic.picId],c=a+(r.miniPath||r.path);return Object(M.jsx)("div",{onClick:function(){return t.onItemClicked(n.title,n.pic.picId)},className:(t.props.selectedItem===n.title?"selected-item":"")+" item",children:Object(M.jsx)(W,{size:e,path:c,picId:n.pic.picId})},c)}));return Object(M.jsx)("div",{className:"items",children:c})}}]),a}(o.a.Component),_=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).categoryData=void 0,i.categoryData=w.config.category,i.state={selectedCategory:i.getInitSelectedCategory(),userData:i.genInitUserData(),outputImage:null},i.getSelectedItem=i.getSelectedItem.bind(Object(p.a)(i)),i}return Object(i.a)(a,[{key:"getInitSelectedCategory",value:function(){return Object.keys(w.config.category).find((function(t){return 1===w.config.category[t].info.index}))}},{key:"genInitUserData",value:function(){var t=this,e={};return Object.keys(this.categoryData).forEach((function(a){var n=t.categoryData[a];if(n.info.defaultPic){var i=n.info.defaultPic;e[a]=t.genSingleUserData(a,i)}})),e}},{key:"genSingleUserData",value:function(t,e){var a=w.root,n=this.categoryData[t],i=w.metadata.data,r=n.items.find((function(t){return t.pic.picId===e})),c=i[e];return{itemId:n.items.findIndex((function(t){return t.pic.picId===e})),itemTitle:r.title,pic:{picId:e,path:a+c.path,miniPath:a+(c.miniPath||c.path),position:r.pic.defaultPosition,size:[100,100],index:n.info.index}}}},{key:"handleCategoryClick",value:function(t){this.setState({selectedCategory:t})}},{key:"getSelectedItem",value:function(t,e){console.log(t);var a=this.state.selectedCategory;if(""===t)return delete this.state.userData[a],void this.setState({userData:Object(j.a)({},this.state.userData)});this.state.userData[a]&&this.state.userData[a].itemTitle===t||this.setState({userData:Object(j.a)(Object(j.a)({},this.state.userData),{},Object(f.a)({},a,this.genSingleUserData(a,e)))})}},{key:"downloadOutputImage",value:function(){var t=this,e=function(t){return A.apply(this,arguments)}(this.state.userData);R()?e.then((function(e){e.toBlob((function(e){var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){var a;t.setState({outputImage:null===(a=e.target)||void 0===a?void 0:a.result})}}))})):e.then((function(t){t.toBlob((function(t){saveAs(t,"output.png")}))}))}},{key:"componentDidUpdate",value:function(t,e){null!=e.outputImage&&this.setState({outputImage:null})}},{key:"render",value:function(){var t=this,e=this.props.width,a=this.categoryData,n=Object.keys(a).sort((function(t,e){return a[t].info.index-a[e].info.index})).map((function(n){var i=a[n].info;return i.hide?Object(M.jsx)("div",{},n):Object(M.jsxs)("div",{className:(t.state.selectedCategory===n?"selected-category":"")+" category-item",style:{width:e/4+"px",height:e/4/1.8+"px"},children:[i.icon&&Object(M.jsx)("img",{src:i.icon,alt:""}),Object(M.jsx)("button",{onClick:function(){return t.handleCategoryClick(n)},children:n})]},n)})),i=this.state.selectedCategory,r=this.state.userData[i];return Object(M.jsxs)("div",{children:[Object(M.jsx)(U,{content:this.state.outputImage}),Object(M.jsx)(E,{width:"100%",userData:this.state.userData}),Object(M.jsx)("div",{className:"category",children:n}),Object(M.jsx)(X,{handleOutput:this.getSelectedItem,selectedCategory:i,selectedItem:r?r.itemTitle:"",itemSize:e/3}),Object(M.jsx)("button",{className:"download-btn",onClick:function(){return t.downloadOutputImage()},children:"\u4e0b\u8f7d"})]})}}]),a}(o.a.Component),q=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){return Object(n.a)(this,a),e.call(this,t)}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=.7*document.body.clientWidth*.94;return Object(M.jsx)("div",{className:"main",children:Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)("header",{className:"header"}),Object(M.jsxs)("div",{className:"body",children:[Object(M.jsx)(_,{width:t>400?376:t<330?310.2:t}),R()?Object(M.jsx)("p",{className:"warning",children:"\u6e29\u99a8\u63d0\u793a\uff1a\u4f60\u5f53\u524d\u5728APP\u5185\u7f6e\u6d4f\u89c8\u5668\u4e2d\uff0c\u82e5\u60f3\u4fdd\u5b58\u56fe\u7247\u8bf7\u70b9\u51fb\u4e0b\u8f7d\u6309\u94ae\u540e\u957f\u6309\u4e0a\u65b9\u9884\u89c8\u533a\u4fdd\u5b58"}):Object(M.jsx)("p",{className:"warning",children:"\u591c\u665a\u5de5\u4f5c~\u591c\u665a\u5de5\u4f5c~"})]})]})})}}]),a}(o.a.Component),G=(a(42),a(43),function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).categoryData=void 0,i.state={author:{name:"",email:"",website:""},interface:{footerText:""},title:""},i.categoryData={},i.getFullData=i.getFullData.bind(Object(p.a)(i)),i.getCategoryInfo=i.getCategoryInfo.bind(Object(p.a)(i)),i.onInputChange=i.onInputChange.bind(Object(p.a)(i)),i}return Object(i.a)(a,[{key:"getFullData",value:function(){return{info:{author:Object.assign({},this.state.author),interface:Object.assign({},this.state.interface),title:this.state.title},category:this.categoryData}}},{key:"getCategoryInfo",value:function(t){this.categoryData=t}},{key:"onInputChange",value:function(t,e){switch(e){case"name":case"email":case"website":this.setState({author:Object(j.a)(Object(j.a)({},this.state.author),{},Object(f.a)({},e,t.target.value))});break;case"footerText":this.setState({interface:Object(j.a)(Object(j.a)({},this.state.interface),{},Object(f.a)({},e,t.target.value))});break;case"title":this.setState({title:t.target.value})}}},{key:"render",value:function(){var t=this;return Object(M.jsxs)("form",{children:[Object(M.jsx)("h2",{children:"\u4f5c\u8005\u4fe1\u606f"}),"\u540d\u5b57\uff1a",Object(M.jsx)("input",{value:this.state.author.name,type:"text",onChange:function(e){return t.onInputChange(e,"name")}}),Object(M.jsx)("br",{}),"\u90ae\u7bb1\uff1a",Object(M.jsx)("input",{value:this.state.author.email,type:"text",onChange:function(e){return t.onInputChange(e,"email")}}),Object(M.jsx)("br",{}),"\u7f51\u5740\uff1a",Object(M.jsx)("input",{value:this.state.author.website,type:"text",onChange:function(e){return t.onInputChange(e,"website")}}),Object(M.jsx)("br",{}),Object(M.jsx)("h2",{children:"\u9875\u9762\u4fe1\u606f"}),"\u9875\u811a\u6587\u5b57\uff1a",Object(M.jsx)("input",{value:this.state.interface.footerText,type:"text",onChange:function(e){return t.onInputChange(e,"footerText")}}),Object(M.jsx)("br",{}),"\u9875\u9762\u6807\u9898\uff1a",Object(M.jsx)("input",{value:this.state.title,type:"text",onChange:function(e){return t.onInputChange(e,"title")}}),Object(M.jsx)("br",{}),Object(M.jsx)("h2",{children:"\u8d44\u6e90\u4fe1\u606f"}),this.props.picsMetadata&&Object(M.jsx)(H,{handleOutput:this.getCategoryInfo,picsMetadata:this.props.picsMetadata}),Object(M.jsx)("input",{type:"button",value:"\u786e\u5b9a",onClick:function(){return t.props.handleOutput(t.getFullData())}})]})}}]),a}(o.a.Component)),H=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;Object(n.a)(this,a);var r=N((i=e.call(this,t)).props.picsMetadata);return i.state={categoryRawData:r,data:i.initFormData(r)},i.handleChange=i.handleChange.bind(Object(p.a)(i)),i}return Object(i.a)(a,[{key:"initFormData",value:function(t){var e={},a=1;for(var n in t)e[n]={title:n,allowBlank:!1,hide:!1,index:a++};return e}},{key:"handleChange",value:function(t,e,a){var n={};switch(Object.assign(n,this.state.data),Object.keys(n).forEach((function(t){n[t]=Object.assign({},n[t])})),a){case"allowBlank":n[e].allowBlank=!n[e].allowBlank;break;case"hide":n[e].hide=!n[e].hide;break;case"index":n[e].index=parseInt(t)}this.setState({data:n}),this.props.handleOutput(JSON.parse(JSON.stringify(n)))}},{key:"render",value:function(){var t=this,e=this.state.categoryRawData,a=Object.keys(e).length,n=Object.keys(e).map((function(n,i){return Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:e[n].info.title}),"\u5141\u8bb8\u4e3a\u7a7a",Object(M.jsx)("input",{onChange:function(e){return t.handleChange(e.target.value,n,"allowBlank")},checked:t.state.data[n].allowBlank,name:n+"-allowBlank",type:"checkbox"}),"\u9690\u85cf",Object(M.jsx)("input",{onChange:function(e){return t.handleChange(e.target.value,n,"hide")},checked:t.state.data[n].hide,name:n+"-hide",type:"checkbox"}),"index",Object(M.jsx)("select",{onChange:function(e){return t.handleChange(e.target.value,n,"index")},name:n+"-index",value:t.state.data[n].index,children:Array.from(Array(a)).map((function(t,e){return Object(M.jsxs)("option",{value:e+1,children:[" ",e+1]},e+1)}))})]},n)}));return Object(M.jsx)("div",{children:n})}}]),a}(o.a.Component),Q=G,K=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;Object(n.a)(this,a),(i=e.call(this,t)).state={testFileList:null,formOutput:null,testImageJSX:Object(M.jsx)("div",{})};var r=new Image;return r.src="/sources/linmo/pics/\u8863\u670d/\u84dd\u8272\u536b\u8863.png",r.onload=function(t){t.target&&i.setState({testImageJSX:Object(M.jsx)("div",{style:{backgroundColor:"#fff"},children:Object(M.jsx)(L,{imageObjs:[r],canvasSize:[90,90],border:5})})})},i}return Object(i.a)(a,[{key:"getFileList",value:function(t){this.setState({testFileList:t})}},{key:"getFormOutput",value:function(t){this.setState({formOutput:t})}},{key:"genConfig",value:function(){if(!this.state.testFileList||!this.state.formOutput)return"";console.log(this.state.testFileList,this.state.formOutput);var t=function(t,e){var a=Array.from(e),n=N(D(e).data),i=function(t){var e,n=Object(x.a)(a);try{for(n.s();!(e=n.n()).done;){var i=e.value.webkitRelativePath.split("/");if(i[1].split(".")[0]===t)return i.join("/")}}catch(r){n.e(r)}finally{n.f()}return""};return{root:"/sources/"+a[0].webkitRelativePath.split("/")[0]+"/",info:{author:t.info.author,interface:{headImg:i("headImg"),footerImg:i("footerImg"),backgroundImg:i("backgroundImg"),footerText:t.info.interface.footerText,previewHeight:100,previewWidth:100},cover:i("cover"),title:t.info.title},category:function(t,e){var a={};return Object.keys(e).forEach((function(n){var i=e[n],r=t[n];a[n]={info:{title:n,icon:i.info.icon,defaultPic:i.info.defaultPic,allowBlank:r.allowBlank,hide:r.hide,index:r.index},items:Object.keys(i.items).map((function(t){return i.items[t]}))}})),a}(t.category,n)}}(this.state.formOutput,this.state.testFileList);return console.log(JSON.stringify(t)),JSON.stringify(t)}},{key:"render",value:function(){var t,e=this,a=this.state.testFileList,n="{}",i="";return a&&(t=D(a),n=JSON.stringify(t),i=function(t){for(var e=[],a=0,n=Array.from(t);a<n.length;a++){var i=n[a].webkitRelativePath.split("/");i[1]===C&&i[3]!==k&&e.push(S(i.slice(1).join("/")))}return F(e)}(a)),Object(M.jsx)("div",{className:"App",children:Object(M.jsxs)("header",{className:"App-header",children:[Object(M.jsx)("p",{children:"FBI WARNING"}),Object(M.jsx)("p",{children:"\u6b22\u8fce\u4f60\u6765\u5230\u795e\u79d8\u9875\u9762"}),this.state.testImageJSX,Object(M.jsx)(J,{handleOutput:function(t){return e.getFileList(t)}}),Object(M.jsx)(Q,{handleOutput:function(t){return e.getFormOutput(t)},picsMetadata:t?t.data:void 0}),i,Object(M.jsx)(T,{fileContent:n,filename:"download_metadata_test.json",class:"",children:"metadata.json\u4e0b\u8f7d\u6d4b\u8bd5"}),Object(M.jsx)(T,{fileContent:this.genConfig(),filename:"download_config_test.json",class:"",children:"config.json\u4e0b\u8f7d\u6d4b\u8bd5"}),Object(M.jsx)(z,{imageFile:a?a[2]:null})]})})}}]),a}(o.a.Component);var V=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={config:null,metadata:null,pageId:""},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;switch(this.state.pageId){case"test":return}B("/sources/"+this.state.pageId+"/root.json").then((function(e){var a=JSON.parse(e);w.root=a.root;var n=w.root;B(n+"config.json").then((function(e){t.setState({config:e})})).catch((function(t){throw Error(t)})),B(n+"metadata.json").then((function(e){t.setState({metadata:e})})).catch((function(t){throw Error(t)}))}))}},{key:"render",value:function(){var t=this.state.pageId;switch(console.log("Page repeat check"),t){case"test":return document.title="\u62c9\u8042\u8033\u5730\u533a",Object(M.jsx)(K,{});default:if(!this.state.config||!this.state.metadata)return Object(M.jsx)("div",{children:"loading"});try{var e=JSON.parse(this.state.config),a=JSON.parse(this.state.metadata);return w.config=e,w.metadata=a,document.title=e.info.title,Object(M.jsx)(q,{config:e,metadata:a})}catch(n){return Object(M.jsx)("div",{children:"\u51fa\u9519\u5566QAQ"})}}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.match.params.id!==e.pageId?{pageId:t.match.params.id}:null}}]),a}(o.a.Component),Y=Object(d.f)(V);l.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(h.a,{children:Object(M.jsx)("div",{children:Object(M.jsx)(d.c,{children:Object(M.jsx)(d.a,{path:"/:id",children:Object(M.jsx)(Y,{})})})})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.9f2be696.chunk.js.map